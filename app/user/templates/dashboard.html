{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h2>Welcome to HR Payroll Dashboard</h2>

{% if messages %}
    <div class="messages">
        {% for message in messages %}
            <div class="alert">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}

<style>
    .messages { margin: 15px 0; }
    .alert {
        background: #d4edda;
        color: #155724;
        padding: 10px;
        border: 1px solid #c3e6cb;
        border-radius: 5px;
        margin-bottom: 8px;
    }
</style>


<!-- Action Buttons -->
<button class="form-btn btn-company" onclick="window.location.href='{% url 'add_company' %}'">Add Company</button>
<button class="form-btn btn-other" onclick="window.location.href='{% url 'add_hr' %}'">Add HR</button>

<hr>

<!-- Company List -->
<h3>Companies</h3>
<table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>ID</th>
            <th>Company Name</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for company in companies %}
        <tr>
            <td>{{ company.id }}</td>
            <td>{{ company.name }}</td>
            <td>
                <a href="{% url 'edit_company' company.id %}">Edit</a> |
                <a href="{% url 'delete_company' company.id %}" onclick="return confirm('Are you sure you want to delete this company?')">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">No active companies found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<hr>

<!-- HR Users List -->
<h3>HR Users</h3>
<table border="1" cellpadding="8" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>ID</th>
            <th>Full Name</th>
            <th>Email</th>
            <th>Gender</th>
            <th>Contact</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for hr in hr_users %}
        <tr>
            <td>{{ hr.id }}</td>
            <td>{{ hr.full_name }}</td>
            <td>{{ hr.email }}</td>

            {% comment %} <td>{{ hr.gender.name if hr.gender else "-" }}</td> {% endcomment %}
            <td>
                {% if hr.gender %}
                    {{ hr.gender.name }}
                {% else %}
                    -
                {% endif %}
            </td>

            
            <td>{{ hr.contact }}</td>
            <td>
                <a href="{% url 'edit_hr' hr.id %}">Edit</a> |
                <a href="{% url 'delete_hr' hr.id %}" onclick="return confirm('Are you sure you want to delete this HR user?')">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No active HR users found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Styling -->
<style>
    .form-btn {
        padding: 15px 25px;
        font-size: 18px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 10px;
    }

    .btn-company { background-color: #28a745; color: #fff; }
    .btn-other { background-color: #007bff; color: #fff; }

    .form-btn:hover { opacity: 0.8; }

    table {
        border-collapse: collapse;
        margin-top: 15px;
    }

    th {
        background-color: #f2f2f2;
    }

    td, th {
        text-align: left;
    }

    @media screen and (max-width: 500px) {
        .form-btn {
            padding: 12px 20px;
            font-size: 16px;
            margin: 8px;
        }

        table {
            font-size: 14px;
        }
    }
</style>
{% endblock %}





















{% comment %} {% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h2>Welcome to HR Payroll Dashboard</h2>

<button class="form-btn btn-company" onclick="window.location.href='{% url 'add_company' %}'">Add Company</button>
<button class="form-btn btn-other" onclick="window.location.href='{% url 'add_hr' %}'">Add HR</button>

<style>
    .form-btn {
        padding: 15px 25px;
        font-size: 18px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 10px; /* Added space around buttons */
    }

    .btn-company { background-color: #28a745; color: #fff; }
    .btn-other { background-color: #007bff; color: #fff; }

    .form-btn:hover {
        opacity: 0.8;
    }

    @media screen and (max-width: 500px) {
        .form-btn {
            padding: 12px 20px;
            font-size: 16px;
            margin: 8px; /* smaller margin for mobile */
        }
    }
</style>
{% endblock %}






 {% endcomment %}
